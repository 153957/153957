language: python
python:
  - "3.6"

# Work around boto bug:
# https://github.com/boto/boto/issues/3717#issuecomment-430894557
env:
  - BOTO_CONFIG=/dev/null

sudo: false

addons:
  apt:
    packages:
      - openjdk-8-jre

install:
  - pip install -r requirements.txt
  - pip install html5validator
  - nvm install lts/carbon
  - nvm use lts/carbon
  - npm install -g yarn
  - yarn install

script:
  - cactus build
  - yarn run stylelint
  - html5validator --root .build --show-warnings --ignore 'index_' --also-check-css
